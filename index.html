<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
<title>Calculadora de Facing</title>
<meta name="color-scheme" content="dark">
<link rel="manifest" href="manifest.webmanifest">
<style>
  :root{--bg:#0b1023;--card:#0f172a;--ink:#e5e7eb;--muted:#cbd5e1;--border:rgba(255,255,255,.08);--accent:#0ea5e9;--orange:#f59e0b}
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif}
  .safe{height:env(safe-area-inset-top,0px)}
  .brand{padding:14px}
  .brand img{width:180px;height:auto;display:block;margin:0 auto;filter:drop-shadow(0 2px 3px rgba(0,0,0,.45))}
  header{padding:0 14px 10px 14px}
  h1{margin:8px 0 0 0;font-size:26px;font-weight:700;text-align:center}
  .hint{margin:6px 0 0 0;color:#d4d4d4;font-size:14px;text-align:center}
  main{padding:12px 12px 110px 12px;max-width:920px;margin:0 auto}
  .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:12px;margin:0 0 12px 0}
  .card h2{font-size:15px;margin:0 0 2px 0;color:#cbd5e1}
  .sub{font-size:13px;color:#cbd5e1;margin:0 0 8px 0}
  .sub:before{content:"‚ìò "}
  label{display:block;font-size:14px;color:#9ca3af;margin:8px 0 4px}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  @media (max-width:640px){.row{grid-template-columns:1fr}}
  input[type=number]{width:100%;padding:12px;font-size:18px;border-radius:12px;border:1px solid var(--border);background:#0b1228;color:#e5e7eb;-moz-appearance:textfield}
  input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}
  .toolbar{position:fixed;left:0;right:0;bottom:0;padding:10px;background:linear-gradient(0deg,rgba(11,16,35,.95),rgba(11,16,35,.75));backdrop-filter:blur(6px);border-top:1px solid var(--border)}
  .btn-row{display:grid;grid-template-columns:1fr 120px;gap:10px;max-width:920px;margin:0 auto}
  .btn{width:100%;padding:14px 16px;font-size:16px;border:none;border-radius:12px;color:#fff;background:#1f2937}
  .btn-primary{background:var(--accent)}
  .result{background:#0b1228;border:1px solid var(--border);border-radius:14px;padding:14px;margin-top:8px}
  .mono{font-family:ui-monospace,Menlo,Monaco,Consolas,monospace;white-space:pre-wrap}
  footer{text-align:center;color:#64748b;font-size:12px;padding:12px 0 18px 0}
</style>
</head>
<body>
<div class="safe"></div>
<div class="brand"><img src="barracas_logo.svg" alt="Barracas Log√≠stica"></div>
<header>
  <h1>Calculadora de Facing</h1>
  <p class="hint">Ingresa cantidades y presiona en *calcular*!
    Si el facing da m√°s del 40% te va a dar el ok sino te va a decir que ten√©s que conquistar para llegar ;) </p>
</header>
<main>
  <div class="card">
    <h2>G√≥ndola Primaria</h2><div class="sub">Cantidad de frentes</div>
    <div class="row">
      <div><label>NUESTROS</label><input id="gp_n" type="number" value="0" min="0"></div>
      <div><label>COMPETENCIA</label><input id="gp_c" type="number" value="0" min="0"></div>
    </div>
  </div>
  <div class="card">
    <h2>Puertas de Fr√≠o</h2><div class="sub">√önicamente cantidad de puertas</div>
    <div class="row">
      <div><label>NUESTRAS</label><input id="pf_n" type="number" value="0" min="0"></div>
      <div><label>COMPETENCIA</label><input id="pf_c" type="number" value="0" min="0"></div>
    </div>
  </div>
  <div class="card">
    <h2>Punteras</h2><div class="sub">√önicamente cantidad</div>
    <div class="row">
      <div><label>NUESTRAS</label><input id="pt_n" type="number" value="0" min="0"></div>
      <div><label>COMPETENCIA</label><input id="pt_c" type="number" value="0" min="0"></div>
    </div>
  </div>
  <div class="card">
    <h2>Adicionales</h2><div class="sub">√önicamente cantidad</div>
    <div class="row">
      <div><label>NUESTROS</label><input id="ad_n" type="number" value="0" min="0"></div>
      <div><label>COMPETENCIA</label><input id="ad_c" type="number" value="0" min="0"></div>
    </div>
  </div>
  <div class="card">
    <h2>Fr√≠o Blanco</h2><div class="sub">Cantidad de frentes</div>
    <div class="row">
      <div><label>NUESTROS</label><input id="fb_n" type="number" value="0" min="0"></div>
      <div><label>COMPETENCIA</label><input id="fb_c" type="number" value="0" min="0"></div>
    </div>
  </div>
  <div class="result"><div id="text" class="mono">Toc√° <b>Calcular</b> para ver el resultado.</div></div>
</main>
<div class="toolbar">
  <div class="btn-row">
    <button class="btn btn-primary" onclick="calc()">Calcular</button>
    <button class="btn" onclick="resetFields()">Borrar</button>
  </div>
</div>
<footer>Creado por Luciano Buzzo.</footer>
<script>
function v(id){return Number(document.getElementById(id).value||0)}
function calc(){
  const gp_n=v('gp_n'),gp_c=v('gp_c'),pf_n=v('pf_n'),pf_c=v('pf_c'),
        pt_n=v('pt_n'),pt_c=v('pt_c'),ad_n=v('ad_n'),ad_c=v('ad_c'),
        fb_n=v('fb_n'),fb_c=v('fb_c');
  const N=gp_n+pf_n*32+pt_n*50+ad_n*18+fb_n;
  const C=gp_c+pf_c*32+pt_c*50+ad_c*18+fb_c;
  const T=N+C;
  const facing=T>0?(N/T)*100:0;
  const gap=Math.max(0,0.4*T-N);
  const add=Math.max(0,Math.ceil(gap/0.6));
  let msg=`üìä Facing total: ${facing.toFixed(1)}% (Nuestros: ${N} / Total: ${T})`;
  if(gap>0){
    const adicionales=Math.ceil(add/18);
    msg+=`\n\n‚ûï Faltan ${add} frentes equivalentes para llegar al 40%.`;
    msg+=`\n<u><b style="color:#f59e0b">CONQUIST√Å</b> algunas de las siguientes opciones:</u>`;
    msg+=`\n‚Ä¢ ${adicionales} adicional(es) (18 c/u).`;
    msg+=`\n‚Ä¢ ${add} frentes de fr√≠o blanco.`;
    document.getElementById('text').innerHTML=msg.replaceAll('\n','<br>');
  }else{
    msg+=`\n‚úÖ Ya est√°s en 40% o m√°s.`;
    document.getElementById('text').innerHTML=msg.replaceAll('\n','<br>');
  }
}
function resetFields(){
  ['gp_n','gp_c','pf_n','pf_c','pt_n','pt_c','ad_n','ad_c','fb_n','fb_c'].forEach(id=>document.getElementById(id).value=0);
  document.getElementById('text').textContent='Campos reiniciados. Toc√° Calcular.';
}
if('serviceWorker'in navigator){window.addEventListener('load',()=>{navigator.serviceWorker.register('./sw.js')});}
</script>
</body>
</html>
